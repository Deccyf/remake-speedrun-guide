<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="Section 8: Neptune boss and Aqua Ring section. Tank draining, shark management, and underwater navigation.">
<meta property="og:type" content="website">
<meta property="og:title" content="Section 8: Neptune & Aqua Ring - REmake Speedrun Guide">
<meta property="og:description" content="Speedrun walkthrough section from the RE REmake guide.">
<meta property="og:image" content="https://remake.wheelofstruggle.com/Logos/THUMB_s3r30_remake.webp">
<meta property="og:url" content="https://remake.wheelofstruggle.com/remake_guide_page_9.html">
<meta name="twitter:card" content="summary_large_image">
<title>Section 8: Neptune & Aqua Ring - REmake Speedrun Guide</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="fog-container"><div class="fog"></div></div>
  <div class="blood-drips" id="bloodDrips"></div>
  <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

  <header class="header" id="header">
    <div class="header-content">
      <a href="index.html" class="logo">RESIDENT <span>EVIL</span></a>
      <div class="hamburger" id="hamburger" aria-label="Menu" role="button" tabindex="0"><span></span><span></span><span></span></div>
<nav class="nav">
        <a href="index.html">Home</a>
        <a href="remake_guide_page_1.html">Setup Guide</a>
        <div class="dropdown">
          <a href="remake_guide_page_2.html" class="dropdown-toggle">Walkthrough</a>
          <div class="dropdown-menu">
            <a href="remake_guide_page_2.html">Section 1: Mansion 1 - Opening</a>
            <a href="remake_guide_page_3.html">Section 2: Armour Key & Grenade Launcher</a>
            <a href="remake_guide_page_4.html">Section 3: Death Masks 2-4 & Yawn 1</a>
            <a href="remake_guide_page_5.html">Section 4: Gallery & Death Masks 3-4</a>
            <a href="remake_guide_page_6.html">Section 5: Elder Crimson Boss Fight</a>
            <a href="remake_guide_page_7.html">Section 6: Courtyard & Lisa's Hut</a>
            <a href="remake_guide_page_8.html">Section 7: Residence - Early</a>
            <a href="remake_guide_page_9.html">Section 8: Neptune & Aqua Ring</a>
            <a href="remake_guide_page_10.html">Section 9: Plant 42 Boss</a>
            <a href="remake_guide_page_11.html">Section 10: Mansion 2 - Hunter Navigation</a>
            <a href="remake_guide_page_12.html">Section 11: Yawn 2 & Gem Collection</a>
            <a href="remake_guide_page_13.html">Section 12: Underground Facility</a>
            <a href="remake_guide_page_14.html">Section 13: Lisa Trevor Underground</a>
            <a href="remake_guide_page_15.html">Section 14: Laboratory</a>
            <a href="remake_guide_page_16.html">Section 15: Tyrant & Helipad</a>
          </div>
        </div>
        <a href="resources-page.html">Resources</a>
        <a href="quick-reference-guide.html">Quick Reference</a>
        <a href="struggler_info_page.html">StruggleR</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="section-hero">
      <div class="section-badge">SECTION 8 OF 15</div>
      <h1 class="section-title">Neptune & Aqua Ring</h1>
      <div class="section-meta">
        <span>‚Ä¢</span>
        <span>UNDERWATER</span>
        <span>‚Ä¢</span>
        <span>ADVANCED SKIP AVAILABLE</span>
      </div>
    </div>

    <div class="content-grid">
      <aside class="sidebar">
        <div class="toc">
          <h3>Contents</h3>
          <ul>
            <li><a href="#objectives" class="active">Objectives</a></li>
            <li><a href="#neptune-encounter">Neptune Encounter</a></li>
            <li><a href="#gallery-key">Gallery Key Collection</a></li>
            <li><a href="#control-room">Control Room Puzzle</a></li>
            <li><a href="#neptune-skip">Neptune Skip Strategy</a></li>
          </ul>

          <div class="section-nav">
            <h4>Navigate</h4>
            <a href="remake_guide_page_8.html" class="nav-link">‚Üê Section 7: Residence - Early</a>
            <a href="remake_guide_page_10.html" class="nav-link">Section 9: Plant 42 Boss ‚Üí</a>
          </div>
        </div>
      </aside>

      <div class="main-content">
        <div class="objectives-box" id="objectives">
          <h3>Section Objectives</h3>
          <ul>
            <li>Navigate shark room and approach Control Room</li>
            <li>Complete Control Room water drainage puzzle</li>
            <li>Electrocute Neptune or execute Neptune Skip</li>
            <li>Retrieve Gallery Key from drained pool</li>
            <li>Exit Residence and return to main routing</li>
          </ul>
        </div>

        <p>This section covers the challenging shark room encounter with Neptune, one of the most dangerous areas in the speedrun. You'll need to navigate the flooded room, solve the Control Room puzzle, and either defeat Neptune or execute the advanced Neptune Skip.</p>

        <div class="content-section" id="neptune-encounter">
          <h2>Neptune Encounter</h2>
          
          <p>This section contains one of the most dangerous advanced skips in the speedrun. The Neptune Skip can save significant time but results in instant Game Over if failed.</p>

          <h3>Shark Room - Initial Encounter</h3>
          
          <p>Upon entering the shark room, Neptune will be swimming in the pool. Your first objective is to approach the Control Room.</p>

          <h3>Shark Behaviour</h3>
          
          <div class="info-box">
            <div class="info-box-title">Sharks Movement</div>
            <p><strong>Two Sharks</strong> will be swimming around the room. Their pathing is random and they will not always be in the same place. You need to avoid them and navigate around them.</p>
          </div>

          <div class="info-box warning">
            <div class="info-box-title">Shark Bite Consideration</div>
            <p>If you are concerned about taking a shark bite, pick up the Green Herb before entering the Aqua Ring (mentioned in Section 8). However, most runners tank the bite and heal later if necessary.</p>
          </div>
        </div>

        <div class="content-section" id="control-room">
          <h2>Control Room Puzzle</h2>
          
          <p>Take the ladder down into the Control Room and follow these steps to drain the water.</p>

          <h3>Console Sequence</h3>
          
          <ol>
            <li>Use the upward console (activates drainage system)</li>
            <li>Turn and use the right-hand console</li>
            <li>Use the left-hand console</li>
            <li>Proceed to the table and check the valve diagram</li>
          </ol>

          <div class="info-box warning">
            <div class="info-box-title">Valve RNG</div>
            <p>The valve that must be turned is RNG. You can risk a first guess (50/50 chance), but two wrong guesses are slower than just checking the table. Most runners check the table for consistency.</p>
          </div>

          <ol start="5">
            <li>Go to the indicated valve and close it</li>
            <li>Again use the right-hand console</li>
            <li>Use the left-hand console</li>
            <li>Use the initial upward console and leave the room</li>
          </ol>
        </div>

        <div class="content-section" id="gallery-key">
          <h2>Neptune Fight - Standard Method</h2>
          
          <p>After draining the water, Neptune will be stuck on the bottom of the drained pool.</p>

          <h3>Attempting to Retrieve the Key</h3>
          
          <ol>
            <li>Proceed into the now-accessible shark room</li>
            <li>Maneuver around Neptune to the platform</li>
            <li>Try to grab the Gallery Key</li>
            <li>Inevitably drop it into the water (this is scripted)</li>
          </ol>
          
          <p>Neptune laughs at you the only way a shark can - by flapping dangerously toward you. Now you must drain the water to retrieve the key.</p>
        </div>

        <div class="content-section" id="electrocution-strategy">
          <h2>Electrocution Strategy</h2>
          
          <p>After Neptune drops the Gallery Key into the water, you need to electrocute it to safely retrieve the key.</p>
          
          <h3>Execution Steps</h3>
          
          <ol>
            <li>Push the console near the platform into the water</li>
            <li>Activate the lever to electrocute Neptune</li>
            <li>Jump down into the water from the leftmost side of the platform</li>
            <li>Immediately run to the right past the dead shark</li>
            <li>Grab the Gallery Key</li>
            <li>Leave the room</li>
          </ol>

          <div class="info-box">
            <div class="info-box-title">Optimal Path After Electrocution</div>
            <p>Jumping from the leftmost side and running right creates maximum distance from Neptune's body. Even though Neptune is dead, its hitbox can still cause slight movement delay if you clip it.</p>
          </div>
        </div>

        <div class="content-section" id="neptune-skip">
          <h2>Neptune Skip - Advanced Strategy</h2>
          
          <p>This is one of the most dangerous skips in the speedrun but can save 15-20 seconds for experienced runners.</p>

          <div class="info-box">
            <div class="info-box-title">INCREDIBLY RISKY STRATEGY</div>
            <p><strong>Neptune Skip:</strong> There is a precise line near Neptune that enables you to get past him and grab the key without electrocuting him.</p>
            <p style="margin-top: 1rem;"><strong>Requirements:</strong></p>
            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
              <li>Pixel-perfect positioning</li>
              <li>Precise timing on the grab</li>
              <li>Understanding of Neptune's AI pattern</li>
            </ul>
          </div>

          <div class="info-box warning">
            <div class="info-box-title">CRITICAL WARNING</div>
            <p><strong>If Neptune gets you during the skip, it's an instant Game Over.</strong> There is no second chance. The grab animation results in immediate death.</p>
            <p style="margin-top: 0.75rem;">This skip should only be attempted by advanced runners who have practiced it extensively. For most runs, the standard electrocution method is recommended.</p>
          </div>

          <h3>When to Use Neptune Skip</h3>
          
          <p>Consider attempting Neptune Skip if:</p>
          <ul style="margin-left: 2rem; margin-bottom: 1.5rem;">
            <li>You've practiced it successfully at least 20+ times</li>
            <li>You're going for a world record pace</li>
            <li>Your run is already excellent and you want to optimise further</li>
            <li>You're comfortable with the reset if it fails</li>
          </ul>

          <p><strong>Do NOT attempt if:</strong></p>
          <ul style="margin-left: 2rem; margin-bottom: 1.5rem;">
            <li>This is a personal best attempt</li>
            <li>You haven't practiced the skip extensively</li>
            <li>The run is going well and you want to finish safely</li>
          </ul>

          <h3>Gallery Key Exit</h3>
          
          <p>After obtaining the Gallery Key (by either method):</p>

          <ol>
            <li>Proceed through the gate</li>
            <li>Go up the ladder</li>
            <li>Through the door</li>
            <li>Back into Room 002 of the Residence</li>
          </ol>

          <div class="info-box">
            <div class="info-box-title">What's Next</div>
            <p>Section 10 covers the remainder of the Residence including the insecticide puzzle, book puzzle solution, and the Plant 42 boss fight. You'll need to collect the Helmet Key, which is essential for later progression.</p>
          </div>

          <h3>Practice Recommendations</h3>
          
          <p><strong>Control Room Puzzle:</strong> Memorise the console sequence completely. Any hesitation adds time. The sequence is: Up ‚Üí Right ‚Üí Left ‚Üí (Check table/Close valve) ‚Üí Right ‚Üí Left ‚Üí Up.</p>
          <p><strong>Standard Neptune Strategy:</strong> Practise the jump-down-and-run-right pattern. The Gallery Key is slightly off-screen to the right, so you need to run past Neptune's body without visual confirmation.</p>
          <p><strong>Neptune Skip:</strong> Only practise this on dedicated practice runs. Never attempt to learn it during personal best attempts. The line is near Neptune's tail section, but exact positioning varies based on his AI state.</p>
        </div>

        <div class="page-nav">
          <a href="remake_guide_page_8.html" class="page-nav-btn">
            <span>‚Üê</span>
            <span>Section 7: Residence - Early</span>
          </a>
          <a href="remake_guide_page_10.html" class="page-nav-btn">
            <span>Section 9: Plant 42 Boss</span>
            <span>‚Üí</span>
          </a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Blood drip animation
    const bloodDripsContainer = document.getElementById('bloodDrips');
    for (let i = 0; i < 5; i++) {
      const drip = document.createElement('div');
      drip.className = 'blood-drip';
      drip.style.left = Math.random() * 100 + '%';
      drip.style.animationDelay = Math.random() * 3 + 's';
      drip.style.animationDuration = (Math.random() * 2 + 2) + 's';
      bloodDripsContainer.appendChild(drip);
    }

    window.addEventListener('scroll', () => {
      const winScroll = document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      document.getElementById('progressBar').style.width = (winScroll / height) * 100 + '%';
    });

    window.addEventListener('scroll', () => {
      const header = document.getElementById('header');
      header.classList.toggle('scrolled', window.scrollY > 100);
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.querySelectorAll('.toc a').forEach(link => link.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    const sections = document.querySelectorAll('.content-section');
    const tocLinks = document.querySelectorAll('.toc a');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        if (scrollY >= section.offsetTop - 150) current = section.getAttribute('id');
      });

      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) link.classList.add('active');
      });
    });
  

// Hamburger menu toggle
(function() {
  const hamburger = document.getElementById('hamburger');
  const nav = document.querySelector('.nav');
  
  if (hamburger && nav) {
    // Toggle menu
    hamburger.addEventListener('click', function(e) {
      e.stopPropagation();
      hamburger.classList.toggle('active');
      nav.classList.toggle('active');
      hamburger.setAttribute('aria-expanded', nav.classList.contains('active'));
    });
    
    // Close menu when clicking nav links (not dropdown toggles)
    nav.querySelectorAll('a:not(.dropdown-toggle)').forEach(function(link) {
      link.addEventListener('click', function() {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        // Also close any open dropdowns
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      });
    });
    
    // Dropdown toggle (don't close menu, just toggle dropdown)
    nav.querySelectorAll('.dropdown-toggle').forEach(function(toggle) {
      toggle.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        this.parentElement.classList.toggle('open');
      });
    });
    
    // Close dropdown when clicking dropdown menu links
    nav.querySelectorAll('.dropdown-menu a').forEach(function(link) {
      link.addEventListener('click', function() {
        // Close the dropdown
        this.closest('.dropdown').classList.remove('open');
        // Close the nav menu on mobile
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
      });
    });
    
    // Close menu and dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!nav.contains(e.target) && !hamburger.contains(e.target)) {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      }
    });
    
    // Keyboard support (Escape to close)
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && nav.classList.contains('active')) {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      }
    });
  }
})();

</script>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-info">
        <p>Original Guide by Deccyf</p>
        <p>¬© 2025 Wheel of Struggle Community Speedrun Guide ‚Ä¢ All Rights Reserved</p>
      </div>
      <div class="footer-buttons">
        <a href="https://discord.com/invite/8RVRE33WfN" class="footer-btn discord-btn" target="_blank">
          <img src="Logos/e5d0b9e74328b8ce389bd8dd7f4e56b0.webp" alt="Discord" class="footer-icon discord-logo" loading="lazy">
          Discord
        </a>
        <a href="https://wheelofstruggle.com" class="footer-btn website-btn" target="_blank">
          <img src="Logos/WoS_Discord_Colour_V2.webp" alt="Wheel of Struggle" class="footer-icon website-logo" loading="lazy">
          Website
        </a>
      </div>
    </div>
  </footer>

  <script>
    // ENHANCED MUSIC CONTROL SYSTEM
    let backgroundMusic = null;
    let musicControlPanel = null;
    const musicFiles = ['01 R.E. 1 Save Room- Safe Haven.mp3'];

    function createMusicControl() {
      musicControlPanel = document.createElement('div');
      musicControlPanel.id = 'musicControlPanel';
      musicControlPanel.innerHTML = `
        <div class="music-control-header">
          <span class="music-icon">üéµ</span>
          <span class="music-title">Background Music</span>
          <button id="musicCloseBtn" class="music-close-btn">√ó</button>
        </div>
        <div class="music-control-content">
          <button id="musicToggleBtn" class="music-toggle-btn">
            <span id="musicToggleIcon">‚ñ∂Ô∏è</span>
            <span id="musicToggleText">Play</span>
          </button>
          <div class="music-volume-container">
            <span class="music-volume-label">Volume</span>
            <input type="range" id="musicVolumeSlider" min="0" max="100" value="30" class="music-volume-slider">
            <span id="musicVolumeValue">30</span>
          </div>
          <div class="music-status" id="musicStatus">Ready to play</div>
        </div>
      `;
      
      musicControlPanel.style.cssText = `
        position: fixed; bottom: 20px; right: 20px; width: 250px; background: rgba(13, 13, 13, 0.95);
        border: 2px solid var(--re-blood); border-radius: 15px; box-shadow: 0 8px 30px rgba(139, 0, 0, 0.4);
        backdrop-filter: blur(20px); z-index: 1000; opacity: 0; transform: translateY(20px);
        transition: all 0.3s ease; font-family: 'Barlow', sans-serif;
      `;

      const style = document.createElement('style');
      style.textContent = `
        .music-control-header { background: var(--re-blood); color: white; padding: 12px 15px;
          border-radius: 13px 13px 0 0; display: flex; align-items: center; justify-content: space-between;
          font-weight: 700; font-size: 14px; }
        .music-icon { font-size: 16px; }
        .music-close-btn { background: none; border: none; color: white; font-size: 20px;
          cursor: pointer; padding: 0; width: 25px; height: 25px; border-radius: 50%;
          display: flex; align-items: center; justify-content: center; transition: background 0.2s ease; }
        .music-close-btn:hover { background: rgba(255, 255, 255, 0.2); }
        .music-control-content { padding: 15px; }
        .music-toggle-btn { width: 100%; background: rgba(139, 0, 0, 0.2); border: 2px solid var(--re-blood);
          color: white; padding: 12px 15px; border-radius: 25px; cursor: pointer; display: flex;
          align-items: center; justify-content: center; gap: 8px; font-weight: 600; font-size: 14px;
          margin-bottom: 15px; transition: all 0.3s ease; }
        .music-toggle-btn:hover { background: var(--re-blood); transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(139, 0, 0, 0.4); }
        .music-volume-container { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .music-volume-label { color: var(--re-gray); font-size: 12px; font-weight: 600; min-width: 50px; }
        .music-volume-slider { flex: 1; height: 6px; background: rgba(139, 0, 0, 0.3);
          border-radius: 3px; outline: none; cursor: pointer; }
        .music-volume-slider::-webkit-slider-thumb { appearance: none; width: 18px; height: 18px;
          background: var(--re-blood); border-radius: 50%; cursor: pointer; box-shadow: 0 0 8px rgba(139, 0, 0, 0.6); }
        .music-volume-slider::-moz-range-thumb { width: 18px; height: 18px; background: var(--re-blood);
          border-radius: 50%; cursor: pointer; border: none; box-shadow: 0 0 8px rgba(139, 0, 0, 0.6); }
        #musicVolumeValue { color: var(--re-white); font-weight: 600; font-size: 12px; min-width: 30px; text-align: right; }
        .music-status { color: var(--re-gray); font-size: 11px; font-weight: 500; text-align: center;
          padding: 5px; background: rgba(139, 0, 0, 0.1); border-radius: 8px; margin-top: 10px; }
      `;
      document.head.appendChild(style);
      document.body.appendChild(musicControlPanel);
      
      setTimeout(() => { musicControlPanel.style.opacity = '1'; musicControlPanel.style.transform = 'translateY(0)'; }, 100);

      setupMusicControlEvents();
    }

    function setupMusicControlEvents() {
      document.getElementById('musicToggleBtn').addEventListener('click', toggleMusic);
      document.getElementById('musicVolumeSlider').addEventListener('input', updateVolume);
      document.getElementById('musicCloseBtn').addEventListener('click', hideMusicControl);
      document.getElementById('musicVolumeValue').textContent = document.getElementById('musicVolumeSlider').value;
      updateVolume();
    }

    function toggleMusic() {
      const toggleIcon = document.getElementById('musicToggleIcon');
      const toggleText = document.getElementById('musicToggleText');
      const status = document.getElementById('musicStatus');
      if (!backgroundMusic) { startBackgroundMusic(); toggleIcon.textContent = '‚è∏Ô∏è'; toggleText.textContent = 'Pause';
        status.textContent = 'Playing Resident Evil Theme'; status.style.color = 'var(--re-green)'; }
      else if (backgroundMusic.paused) { backgroundMusic.play(); toggleIcon.textContent = '‚è∏Ô∏è'; toggleText.textContent = 'Pause';
        status.textContent = 'Playing Resident Evil Theme'; status.style.color = 'var(--re-green)'; }
      else { backgroundMusic.pause(); toggleIcon.textContent = '‚ñ∂Ô∏è'; toggleText.textContent = 'Play';
        status.textContent = 'Music paused'; status.style.color = 'var(--re-gray)'; }
    }

    function updateVolume() {
      const volumeSlider = document.getElementById('musicVolumeSlider');
      const volumeValue = document.getElementById('musicVolumeValue');
      const volume = parseInt(volumeSlider.value) / 100;
      volumeValue.textContent = volumeSlider.value;
      if (backgroundMusic) backgroundMusic.volume = volume;
      localStorage.setItem('musicVolume', volumeSlider.value);
    }

    function startBackgroundMusic() {
      if (backgroundMusic) return;
      backgroundMusic = new Audio();
      backgroundMusic.src = musicFiles[0];
      backgroundMusic.loop = true;
      const savedVolume = localStorage.getItem('musicVolume') || '30';
      backgroundMusic.volume = parseInt(savedVolume) / 100;
      document.getElementById('musicVolumeSlider').value = savedVolume;
      document.getElementById('musicVolumeValue').textContent = savedVolume;
      backgroundMusic.play().then(() => {
        document.getElementById('musicStatus').textContent = 'Playing Resident Evil Theme';
        document.getElementById('musicStatus').style.color = 'var(--re-green)';
        document.getElementById('musicToggleIcon').textContent = '‚è∏Ô∏è';
        document.getElementById('musicToggleText').textContent = 'Pause';
      }).catch(() => {
        document.getElementById('musicStatus').textContent = 'Click play to start music';
        document.getElementById('musicStatus').style.color = 'var(--re-gray)';
      });
      backgroundMusic.addEventListener('ended', () => { backgroundMusic.currentTime = 0; backgroundMusic.play(); });
      backgroundMusic.addEventListener('error', (e) => {
        document.getElementById('musicStatus').textContent = 'Music file not found';
        document.getElementById('musicStatus').style.color = 'var(--re-blood)';
      });
    }

    function hideMusicControl() {
      if (musicControlPanel) {
        musicControlPanel.style.opacity = '0'; musicControlPanel.style.transform = 'translateY(20px)';
        setTimeout(() => { if (musicControlPanel && musicControlPanel.parentNode) musicControlPanel.parentNode.removeChild(musicControlPanel); musicControlPanel = null; }, 300);
      }
    }

    function showMusicControlButton() {
      const musicButton = document.createElement('div');
      musicButton.id = 'musicControlButton';
      musicButton.innerHTML = 'üéµ Music';
      musicButton.style.cssText = `position: fixed; bottom: 20px; right: 20px; background: rgba(139, 0, 0, 0.8);
        color: var(--re-white); padding: 12px 18px; border-radius: 25px; cursor: pointer; font-size: 14px; font-weight: 600;
        z-index: 1000; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(139, 0, 0, 0.3); border: 2px solid rgba(139, 0, 0, 0.3);`;
      
      musicButton.addEventListener('mouseenter', () => { musicButton.style.background = 'var(--re-blood)'; musicButton.style.transform = 'scale(1.05)'; musicButton.style.boxShadow = '0 6px 20px rgba(139, 0, 0, 0.5)'; });
      musicButton.addEventListener('mouseleave', () => { musicButton.style.background = 'rgba(139, 0, 0, 0.8)'; musicButton.style.transform = 'scale(1)'; musicButton.style.boxShadow = '0 4px 15px rgba(139, 0, 0, 0.3)'; });
      musicButton.addEventListener('click', () => { createMusicControl(); musicButton.remove(); });
      document.body.appendChild(musicButton);
    }

    function initBackgroundMusic() {
      const musicInteracted = localStorage.getItem('musicInteracted') === 'true';
      if (!musicInteracted) {
        document.addEventListener('click', () => {
          localStorage.setItem('musicInteracted', 'true');
          document.getElementById('musicControlButton')?.remove();
          showMusicControlButton();
        }, { once: true });
      } else {
        showMusicControlButton();
      }
    }

    initBackgroundMusic();
    
    // MOBILE DROPDOWN NAVIGATION FIX
    (function() {
      const dropdown = document.querySelector('.dropdown');
      const dropdownToggle = document.querySelector('.dropdown-toggle');
      const dropdownMenu = document.querySelector('.dropdown-menu');
      if (!dropdown || !dropdownToggle || !dropdownMenu) return;
      function isMobile() { return window.innerWidth <= 768; }
      dropdownToggle.addEventListener('click', function(e) {
        if (isMobile()) { e.preventDefault(); e.stopPropagation(); dropdown.classList.toggle('open'); }
      });
      document.addEventListener('click', function(e) {
        if (isMobile() && !dropdown.contains(e.target)) dropdown.classList.remove('open');
      });
      dropdownMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function() { if (isMobile()) dropdown.classList.remove('open'); });
      });
      let wasMobile = isMobile();
      window.addEventListener('resize', function() {
        const nowMobile = isMobile();
        if (wasMobile !== nowMobile) dropdown.classList.remove('open');
        wasMobile = nowMobile;
      });
    })();
  </script>
</body>
</html>
