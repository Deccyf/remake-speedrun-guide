<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="Section 4: Gallery navigation and Death Masks 3-4 collection. Crow corridor, armor room, and mask acquisition strategies.">
<meta property="og:type" content="website">
<meta property="og:title" content="Section 4: Gallery & Death Masks 3-4 - REmake Speedrun Guide">
<meta property="og:description" content="Speedrun walkthrough section from the RE REmake guide.">
<meta property="og:image" content="https://remake.wheelofstruggle.com/Logos/THUMB_s3r30_remake.webp">
<meta property="og:url" content="https://remake.wheelofstruggle.com/remake_guide_page_5.html">
<meta name="twitter:card" content="summary_large_image">
<title>Section 4: Gallery & Death Masks 3-4 - REmake Speedrun Guide</title>
<link rel="stylesheet" href="styles.css?v=4">
</head>
<body>
  <div class="fog-container">
    <div class="fog"></div>
  </div>
  
  <div class="blood-drips" id="bloodDrips"></div>

  <div class="progress-bar">
    <div class="progress-fill" id="progressBar"></div>
  </div>

  <header class="header" id="header">
    <div class="header-content">
      <a href="index.html" class="logo">RESIDENT <span>EVIL</span></a>
      <div class="hamburger" id="hamburger" aria-label="Menu" role="button" tabindex="0"><span></span><span></span><span></span></div>
<nav class="nav">
        <a href="index.html">Home</a>
        <a href="remake_guide_page_1.html">Setup Guide</a>
        <div class="dropdown">
          <a href="remake_guide_page_2.html" class="dropdown-toggle">Walkthrough</a>
          <div class="dropdown-menu">
            <a href="remake_guide_page_2.html">Section 1: Mansion 1 - Opening</a>
            <a href="remake_guide_page_3.html">Section 2: Armour Key & Grenade Launcher</a>
            <a href="remake_guide_page_4.html">Section 3: Death Masks 2-4 & Yawn 1</a>
            <a href="remake_guide_page_5.html">Section 4: Gallery & Death Masks 3-4</a>
            <a href="remake_guide_page_6.html">Section 5: Elder Crimson Boss Fight</a>
            <a href="remake_guide_page_7.html">Section 6: Courtyard & Lisa's Hut</a>
            <a href="remake_guide_page_8.html">Section 7: Residence - Early</a>
            <a href="remake_guide_page_9.html">Section 8: Neptune & Aqua Ring</a>
            <a href="remake_guide_page_10.html">Section 9: Plant 42 Boss</a>
            <a href="remake_guide_page_11.html">Section 10: Mansion 2 - Hunter Navigation</a>
            <a href="remake_guide_page_12.html">Section 11: Yawn 2 & Gem Collection</a>
            <a href="remake_guide_page_13.html">Section 12: Underground Facility</a>
            <a href="remake_guide_page_14.html">Section 13: Lisa Trevor Underground</a>
            <a href="remake_guide_page_15.html">Section 14: Laboratory</a>
            <a href="remake_guide_page_16.html">Section 15: Tyrant & Helipad</a>
          </div>
        </div>
        <a href="resources-page.html">Resources</a>
        <a href="quick-reference-guide.html">Quick Reference</a>
        <a href="struggler_info_page.html">StruggleR</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="section-hero">
      <div class="section-badge">SECTION 4 OF 15</div>
      <h1 class="section-title">Gallery & Death Masks 3-4</h1>
      <div class="section-meta">
        <span>‚Ä¢</span>
        <span>GALLERY</span>
        <span>‚Ä¢</span>
        <span>FINAL DEATH MASKS</span>
      </div>
    </div>

    <div class="content-grid">
      <aside class="sidebar">
        <div class="toc">
          <h3>Contents</h3>
          <ul>
            <li><a href="#objectives" class="active">Objectives</a></li>
            <li><a href="#armour-gallery">Armour Gallery</a></li>
            <li><a href="#death-mask-3">Death Mask 3</a></li>
            <li><a href="#painting-puzzle">Painting Puzzle</a></li>
            <li><a href="#death-mask-4">Death Mask 4</a></li>
          </ul>

          <div class="section-nav">
            <h4>Navigate</h4>
            <a href="remake_guide_page_4.html" class="nav-link">‚Üê Section 3: Yawn</a>
            <a href="remake_guide_page_6.html" class="nav-link">Section 5: Elder Crimson ‚Üí</a>
          </div>
        </div>
      </aside>

      <div class="main-content">
        <div class="objectives-box" id="objectives">
          <h3>Section Objectives</h3>
          <ul>
            <li>Navigate Armour Gallery and solve statue puzzle</li>
            <li>Collect Death Mask 3 from jewellery box</li>
            <li>Complete painting puzzle sequence</li>
            <li>Obtain Death Mask 4 from hidden wall</li>
            <li>Prepare for Elder Crimson boss fight</li>
          </ul>
        </div>

        <p>This section completes your Death Mask collection, gathering the final two masks needed to access the Elder Crimson boss fight in the crypt. Both puzzles in this section are straightforward but require precise execution.</p>

        <div class="content-section" id="armour-gallery">
          <h2>Armour Gallery</h2>
          
          <p>The Armour Gallery contains four statues that must be pushed in a specific order to open the gate to Death Mask 3.</p>

          <div class="puzzle-steps">
            <h4>Statue Puzzle Solution</h4>
            <div class="puzzle-step">
              <div class="step-number">1</div>
              <div class="step-content"><strong>Upper Right Statue</strong> - Push first</div>
            </div>
            <div class="puzzle-step">
              <div class="step-number">2</div>
              <div class="step-content"><strong>Lower Left Statue</strong> - Push second</div>
            </div>
            <div class="puzzle-step">
              <div class="step-number">3</div>
              <div class="step-content"><strong>Lower Right Statue</strong> - Push third</div>
            </div>
            <div class="puzzle-step">
              <div class="step-number">4</div>
              <div class="step-content"><strong>Upper Left Statue</strong> - Moves automatically when the first three are positioned correctly</div>
            </div>
          </div>

          <div class="info-box">
            <div class="info-box-title">PUZZLE MECHANICS</div>
            <p>Each statue must be pushed into its designated position. The upper left statue is connected to the mechanism and will slide into place automatically once the other three are positioned. This triggers the gate to open.</p>
          </div>

          <figure style="margin: 1rem 0 2rem 0; text-align: center;">
            <img src="Logos/198be8.webp" alt="Armour gallery puzzle solution showing statue positions" style="max-width: 100%; height: auto; border: 1px solid rgba(139, 0, 0, 0.3); border-radius: 8px; box-shadow: 0 5px 20px rgba(0,0,0,0.3);" loading="lazy">
            <figcaption class="image-caption">Armour gallery puzzle solution reference from <a href="https://psnprofiles.com/guide/12111-resident-evil-dont-stop-running-speedrun-guide" target="_blank" style="color: var(--re-green); text-decoration: none;">PSN Profiles</a></figcaption>
          </figure>
        </div>

        <div class="content-section" id="death-mask-3">
          <h3>Death Mask 3 Collection</h3>
          
          <ol start="5">
            <li>Press the button to open the gate to the jewellery box compartment.</li>
            <li>Inspect the jewellery box.</li>
            <li>Open the jewellery box. By pressing both Sun symbols on the box.</li>
            <li>Grab the jewellery box containing <strong>Death Mask 3</strong>.</li>
            <li>Head to the safe room under the staircase and pick up the incendiary shells.</li>
            <li>Head to the Gallery puzzle through the nearly broken door.</li>
          </ol>
        </div>

        <div class="content-section" id="painting-puzzle">
          <h2>Gallery Puzzle</h2>
          
          <p>The Gallery Section contains a stained glass window puzzle that reveals the location of the fourth and final Death Mask. This puzzle involves activating lights on three stained glass windows in sequence.</p>

          <h3>Painting Sequence</h3>
          
          <ol>
            <li>Flip the light on the first window. Yellow stained glass, turning it to orange stained glass.</li>
            <li>Run around to the opposite side of the gallery.</li>
            <li>Flip the lights on the first two stained glass windows (they can be done in either order).Yellow to green stained glass & Red stained glass to purple stained glass.</li>
            <li>Proceed to the final painting at the end of the hall.</li>
            <li>The woman in the painting should be wearing a green crown, a purple necklack and a orange bracelet.</li>
            <li>Flip the switch on the painting to open the secret door.</li>
          </ol>

          <div class="info-box">
            <div class="info-box-title">LIGHT ACTIVATION</div>
            <p>Each stained glass window has a light switch underneath it. When all three are activated, the final painting at the end of the hall will slide aside to reveal a hidden area containing Death Mask 4.</p>
          </div>
        </div>

        <figure style="margin: 1rem 0 2rem 0; text-align: center;">
          <img src="Logos/882ee4.webp" alt="Stained glass color puzzle solution reference" style="max-width: 100%; height: auto; border: 1px solid rgba(139, 0, 0, 0.3); border-radius: 8px; box-shadow: 0 5px 20px rgba(0,0,0,0.3);" loading="lazy">
          <figcaption class="image-caption">Gallery puzzle color reference from <a href="https://psnprofiles.com/guide/12111-resident-evil-dont-stop-running-speedrun-guide" target="_blank" style="color: var(--re-green); text-decoration: none;">PSN Profiles</a></figcaption>
        </figure>

        <div class="content-section" id="death-mask-4">
          <h3>Death Mask 4 - Final Collection</h3>
          
          <ol start="5">
            <li>Examine the final painting after all three lights are activated.</li>
            <li>The wall will open automatically.</li>
            <li>Grab <strong>Death Mask 4</strong> from the hidden area.</li>
          </ol>

          <div class="progress-tracker">
            <h3>All Death Masks Collected</h3>
            <p style="color: var(--re-gray); margin-bottom: 1rem;">You now have all four Death Masks required for the Elder Crimson boss fight. The next section will cover placing these masks in the correct order and defeating the Elder Crimson to obtain the Stone and Metal Object.</p>
            
            <div class="mask-grid">
              <div class="mask-item">
                <strong style="color: var(--re-gold);">Death Mask 1</strong>
                <p style="color: var(--re-gray); margin: 0.5rem 0 0 0; font-size: 0.95rem;">Without Mouth - Speak No Evil</p>
              </div>
              <div class="mask-item">
                <strong style="color: var(--re-gold);">Death Mask 2</strong>
                <p style="color: var(--re-gray); margin: 0.5rem 0 0 0; font-size: 0.95rem;">Without Eyes - See No Evil</p>
              </div>
              <div class="mask-item">
                <strong style="color: var(--re-gold);">Death Mask 3</strong>
                <p style="color: var(--re-gray); margin: 0.5rem 0 0 0; font-size: 0.95rem;">Without Nose</p>
              </div>
              <div class="mask-item">
                <strong style="color: var(--re-gold);">Death Mask 4</strong>
                <p style="color: var(--re-gray); margin: 0.5rem 0 0 0; font-size: 0.95rem;">Complete Mask</p>
              </div>
            </div>
          </div>

          <div class="info-box success">
            <div class="info-box-title">WHAT'S NEXT</div>
            <p>Section 6 covers the Elder Crimson boss fight, one of the most RNG-dependent encounters in the speedrun. You'll learn the optimal combat strategy, understand the RNG outcomes, and Practise the mask placement sequence in the crypt.</p>
          </div>
        </div>

        <div class="page-nav">
          <a href="remake_guide_page_4.html" class="page-nav-btn">
            <span>‚Üê</span>
            <span>Section 3: Yawn</span>
          </a>
          <a href="remake_guide_page_6.html" class="page-nav-btn">
            <span>Section 5: Elder Crimson</span>
            <span>‚Üí</span>
          </a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Blood drip animation
    const bloodDripsContainer = document.getElementById('bloodDrips');
    for (let i = 0; i < 5; i++) {
      const drip = document.createElement('div');
      drip.className = 'blood-drip';
      drip.style.left = Math.random() * 100 + '%';
      drip.style.animationDelay = Math.random() * 3 + 's';
      drip.style.animationDuration = (Math.random() * 2 + 2) + 's';
      bloodDripsContainer.appendChild(drip);
    }

    window.addEventListener('scroll', () => {
      const winScroll = document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('progressBar').style.width = scrolled + '%';
    });

    window.addEventListener('scroll', () => {
      const header = document.getElementById('header');
      if (window.scrollY > 100) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          
          document.querySelectorAll('.toc a').forEach(link => link.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    const sections = document.querySelectorAll('.content-section');
    const tocLinks = document.querySelectorAll('.toc a');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (scrollY >= sectionTop - 150) {
          current = section.getAttribute('id');
        }
      });

      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });

    // ENHANCED MUSIC CONTROL SYSTEM
    let backgroundMusic = null;
    let musicControlPanel = null;
    const musicFiles = [
      '01 R.E. 1 Save Room- Safe Haven.mp3',
    ];

    function createMusicControl() {
      musicControlPanel = document.createElement('div');
      musicControlPanel.id = 'musicControlPanel';
      musicControlPanel.innerHTML = `
        <div class="music-control-header">
          <span class="music-icon">üéµ</span>
          <span class="music-title">Background Music</span>
          <button id="musicCloseBtn" class="music-close-btn">√ó</button>
        </div>
        <div class="music-control-content">
          <button id="musicToggleBtn" class="music-toggle-btn">
            <span id="musicToggleIcon">‚ñ∂Ô∏è</span>
            <span id="musicToggleText">Play</span>
          </button>
          <div class="music-volume-container">
            <span class="music-volume-label">Volume</span>
            <input type="range" id="musicVolumeSlider" min="0" max="100" value="30" class="music-volume-slider">
            <span id="musicVolumeValue">30</span>
          </div>
          <div class="music-status" id="musicStatus">Ready to play</div>
        </div>
      `;
      
      // Add CSS styling
      musicControlPanel.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 250px;
        background: rgba(13, 13, 13, 0.95);
        border: 2px solid var(--re-blood);
        border-radius: 15px;
        box-shadow: 0 8px 30px rgba(139, 0, 0, 0.4);
        backdrop-filter: blur(20px);
        z-index: 1000;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
        font-family: 'Barlow', sans-serif;
      `;

      // Style the inner elements
      const style = document.createElement('style');
      style.textContent = `
        .music-control-header {
          background: var(--re-blood);
          color: white;
          padding: 12px 15px;
          border-radius: 13px 13px 0 0;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-weight: 700;
          font-size: 14px;
        }
        .music-icon { font-size: 16px; }
        .music-close-btn {
          background: none;
          border: none;
          color: white;
          font-size: 20px;
          cursor: pointer;
          padding: 0;
          width: 25px;
          height: 25px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background 0.2s ease;
        }
        .music-close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }
        .music-control-content {
          padding: 15px;
        }
        .music-toggle-btn {
          width: 100%;
          background: rgba(139, 0, 0, 0.2);
          border: 2px solid var(--re-blood);
          color: white;
          padding: 12px 15px;
          border-radius: 25px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          font-weight: 600;
          font-size: 14px;
          margin-bottom: 15px;
          transition: all 0.3s ease;
        }
        .music-toggle-btn:hover {
          background: var(--re-blood);
          transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(139, 0, 0, 0.4);
        }
        .music-volume-container {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 15px;
        }
        .music-volume-label {
          color: var(--re-gray);
          font-size: 12px;
          font-weight: 600;
          min-width: 50px;
        }
        .music-volume-slider {
          flex: 1;
          height: 6px;
          background: rgba(139, 0, 0, 0.3);
          border-radius: 3px;
          outline: none;
          cursor: pointer;
        }
        .music-volume-slider::-webkit-slider-thumb {
          appearance: none;
          width: 18px;
          height: 18px;
          background: var(--re-blood);
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 0 8px rgba(139, 0, 0, 0.6);
        }
        .music-volume-slider::-moz-range-thumb {
          width: 18px;
          height: 18px;
          background: var(--re-blood);
          border-radius: 50%;
          cursor: pointer;
          border: none;
          box-shadow: 0 0 8px rgba(139, 0, 0, 0.6);
        }
        #musicVolumeValue {
          color: var(--re-white);
          font-weight: 600;
          font-size: 12px;
          min-width: 30px;
          text-align: right;
        }
        .music-status {
          color: var(--re-gray);
          font-size: 11px;
          font-weight: 500;
          text-align: center;
          padding: 5px;
          background: rgba(139, 0, 0, 0.1);
          border-radius: 8px;
          margin-top: 10px;
        }
      `;
      document.head.appendChild(style);

      document.body.appendChild(musicControlPanel);
      
      // Show with animation
      setTimeout(() => {
        musicControlPanel.style.opacity = '1';
        musicControlPanel.style.transform = 'translateY(0)';
      }, 100);

      // Add event listeners
      setupMusicControlEvents();
    }

    function setupMusicControlEvents() {
      const toggleBtn = document.getElementById('musicToggleBtn');
      const volumeSlider = document.getElementById('musicVolumeSlider');
      const volumeValue = document.getElementById('musicVolumeValue');
      const closeBtn = document.getElementById('musicCloseBtn');
      const status = document.getElementById('musicStatus');

      toggleBtn.addEventListener('click', toggleMusic);
      volumeSlider.addEventListener('input', updateVolume);
      closeBtn.addEventListener('click', hideMusicControl);

      // Initialize volume display
      volumeValue.textContent = volumeSlider.value;
      updateVolume();
    }

    function toggleMusic() {
      const toggleIcon = document.getElementById('musicToggleIcon');
      const toggleText = document.getElementById('musicToggleText');
      const status = document.getElementById('musicStatus');

      if (!backgroundMusic) {
        startBackgroundMusic();
        toggleIcon.textContent = '‚è∏Ô∏è';
        toggleText.textContent = 'Pause';
        status.textContent = 'Playing Resident Evil Theme';
        status.style.color = 'var(--re-green)';
      } else if (backgroundMusic.paused) {
        backgroundMusic.play();
        toggleIcon.textContent = '‚è∏Ô∏è';
        toggleText.textContent = 'Pause';
        status.textContent = 'Playing Resident Evil Theme';
        status.style.color = 'var(--re-green)';
      } else {
        backgroundMusic.pause();
        toggleIcon.textContent = '‚ñ∂Ô∏è';
        toggleText.textContent = 'Play';
        status.textContent = 'Music paused';
        status.style.color = 'var(--re-gray)';
      }
    }

    function updateVolume() {
      const volumeSlider = document.getElementById('musicVolumeSlider');
      const volumeValue = document.getElementById('musicVolumeValue');
      const volume = parseInt(volumeSlider.value) / 100;
      
      volumeValue.textContent = volumeSlider.value;
      
      if (backgroundMusic) {
        backgroundMusic.volume = volume;
      }
      
      // Save volume preference
      localStorage.setItem('musicVolume', volumeSlider.value);
    }

    function startBackgroundMusic() {
      if (backgroundMusic) return;
      
      backgroundMusic = new Audio();
      backgroundMusic.src = musicFiles[0];
      backgroundMusic.loop = true;
      
      const savedVolume = localStorage.getItem('musicVolume') || '30';
      backgroundMusic.volume = parseInt(savedVolume) / 100;
      
      document.getElementById('musicVolumeSlider').value = savedVolume;
      document.getElementById('musicVolumeValue').textContent = savedVolume;

      backgroundMusic.play().then(() => {
        document.getElementById('musicStatus').textContent = 'Playing Resident Evil Theme';
        document.getElementById('musicStatus').style.color = 'var(--re-green)';
        
        const toggleIcon = document.getElementById('musicToggleIcon');
        const toggleText = document.getElementById('musicToggleText');
        toggleIcon.textContent = '‚è∏Ô∏è';
        toggleText.textContent = 'Pause';
      }).catch((error) => {
        document.getElementById('musicStatus').textContent = 'Click play to start music';
        document.getElementById('musicStatus').style.color = 'var(--re-gray)';
      });

      // Handle music end/errors
      backgroundMusic.addEventListener('ended', () => {
        backgroundMusic.currentTime = 0;
        backgroundMusic.play();
      });

      backgroundMusic.addEventListener('error', (e) => {
        console.error('Music error:', e);
        document.getElementById('musicStatus').textContent = 'Music file not found';
        document.getElementById('musicStatus').style.color = 'var(--re-blood)';
      });
    }

    function hideMusicControl() {
      if (musicControlPanel) {
        musicControlPanel.style.opacity = '0';
        musicControlPanel.style.transform = 'translateY(20px)';
        setTimeout(() => {
          if (musicControlPanel && musicControlPanel.parentNode) {
            musicControlPanel.parentNode.removeChild(musicControlPanel);
          }
          musicControlPanel = null;
        }, 300);
      }
    }

    function showMusicControlButton() {
      const musicButton = document.createElement('div');
      musicButton.id = 'musicControlButton';
      musicButton.innerHTML = 'üéµ Music';
      musicButton.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(139, 0, 0, 0.8);
        color: var(--re-white);
        padding: 12px 18px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        z-index: 1000;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(139, 0, 0, 0.3);
        border: 2px solid rgba(139, 0, 0, 0.3);
      `;
      
      musicButton.addEventListener('mouseenter', () => {
        musicButton.style.background = 'var(--re-blood)';
        musicButton.style.transform = 'scale(1.05)';
        musicButton.style.boxShadow = '0 6px 20px rgba(139, 0, 0, 0.5)';
      });
      
      musicButton.addEventListener('mouseleave', () => {
        musicButton.style.background = 'rgba(139, 0, 0, 0.8)';
        musicButton.style.transform = 'scale(1)';
        musicButton.style.boxShadow = '0 4px 15px rgba(139, 0, 0, 0.3)';
      });

      musicButton.addEventListener('click', () => {
        createMusicControl();
        musicButton.remove();
      });

      document.body.appendChild(musicButton);
    }

    function initBackgroundMusic() {
      // Check if user has previously interacted with music
      const musicInteracted = localStorage.getItem('musicInteracted') === 'true';
      
      if (!musicInteracted) {
        // Show music control button after first user interaction
        document.addEventListener('click', () => {
          localStorage.setItem('musicInteracted', 'true');
          document.getElementById('musicControlButton')?.remove();
          showMusicControlButton();
        }, { once: true });
      } else {
        // User has interacted before, show control button immediately
        showMusicControlButton();
      }
    }

    // Initialize music system
    initBackgroundMusic();
  

// Reset any horizontal scroll on page load (fixes iOS navigation issue)
window.scrollTo(0, 0);
document.documentElement.scrollLeft = 0;
document.body.scrollLeft = 0;

// Hamburger menu toggle
(function() {
  const hamburger = document.getElementById('hamburger');
  const nav = document.querySelector('.nav');
  
  if (hamburger && nav) {
    // Toggle menu
    hamburger.addEventListener('click', function(e) {
      e.stopPropagation();
      hamburger.classList.toggle('active');
      nav.classList.toggle('active');
      hamburger.setAttribute('aria-expanded', nav.classList.contains('active'));
    });
    
    // Close menu when clicking nav links (not dropdown toggles)
    nav.querySelectorAll('a:not(.dropdown-toggle)').forEach(function(link) {
      link.addEventListener('click', function() {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        // Also close any open dropdowns
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      });
    });
    
    // Dropdown toggle (don't close menu, just toggle dropdown)
    nav.querySelectorAll('.dropdown-toggle').forEach(function(toggle) {
      toggle.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        this.parentElement.classList.toggle('open');
      });
    });
    
    // Close dropdown when clicking dropdown menu links
    nav.querySelectorAll('.dropdown-menu a').forEach(function(link) {
      link.addEventListener('click', function() {
        // Close the dropdown
        this.closest('.dropdown').classList.remove('open');
        // Close the nav menu on mobile
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
      });
    });
    
    // Close menu and dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!nav.contains(e.target) && !hamburger.contains(e.target)) {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      }
    });
    
    // Keyboard support (Escape to close)
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && nav.classList.contains('active')) {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
        nav.querySelectorAll('.dropdown.open').forEach(function(d) {
          d.classList.remove('open');
        });
      }
    });
  }
})();

</script>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-info">
        <p>Original Guide by Deccyf</p>
        <p>¬© 2025 Wheel of Struggle Community Speedrun Guide ‚Ä¢ All Rights Reserved</p>
      </div>
      <div class="footer-buttons">
        <a href="https://discord.com/invite/8RVRE33WfN" class="footer-btn discord-btn" target="_blank">
          <img src="Logos/e5d0b9e74328b8ce389bd8dd7f4e56b0.webp" alt="Discord" class="footer-icon discord-logo" loading="lazy">
          Discord
        </a>
        <a href="https://wheelofstruggle.com" class="footer-btn website-btn" target="_blank">
          <img src="Logos/WoS_Discord_Colour_V2.webp" alt="Wheel of Struggle" class="footer-icon website-logo" loading="lazy">
          Website
        </a>
      </div>
    </div>
  </footer>

  
</body>
</html>
