<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Section 4: Death Masks 2-4 & Yawn 1 - REmake Speedrun Guide</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Barlow:wght@300;400;500;600;700;800;900&family=Cinzel:wght@400;500;600;700;800;900&display=swap');
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  :root {
    --re-black: #0D0D0D;
    --re-dark: #1A1A1A;
    --re-blood: #8B0000;
    --re-crimson: #DC143C;
    --re-green: #7CFC00;
    --re-gold: #D4AF37;
    --re-white: #F5F5F5;
    --re-gray: #808080;
  }

  body {
    font-family: 'Barlow', sans-serif;
    background: var(--re-black);
    color: var(--re-white);
    line-height: 1.7;
    overflow-x: hidden;
  }

  .fog-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
  }

  .fog {
    position: absolute;
    width: 200%;
    height: 200%;
    background: 
      radial-gradient(ellipse at 30% 40%, rgba(139, 0, 0, 0.15) 0%, transparent 40%),
      radial-gradient(ellipse at 70% 60%, rgba(124, 252, 0, 0.08) 0%, transparent 40%);
    animation: fogMove 30s ease-in-out infinite;
  }

  @keyframes fogMove {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(-5%, 5%); }
    50% { transform: translate(5%, -5%); }
    75% { transform: translate(-3%, 3%); }
  }

  .header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    background: rgba(13, 13, 13, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(139, 0, 0, 0.3);
    transition: all 0.3s;
  }

  .header.scrolled {
    background: rgba(13, 13, 13, 0.98);
    box-shadow: 0 4px 30px rgba(139, 0, 0, 0.3);
  }

  .header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1.2rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    font-family: 'Cinzel', serif;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--re-white);
    text-decoration: none;
    letter-spacing: 3px;
    position: relative;
  }

  .logo::before {
    content: '';
    position: absolute;
    top: 50%;
    left: -30px;
    width: 20px;
    height: 2px;
    background: var(--re-blood);
    transform: translateY(-50%);
  }

  .logo::after {
    content: '';
    position: absolute;
    top: 50%;
    right: -30px;
    width: 20px;
    height: 2px;
    background: var(--re-blood);
    transform: translateY(-50%);
  }

  .logo span {
    color: var(--re-blood);
  }

  .nav {
    display: flex;
    gap: 3rem;
    align-items: center;
  }

  .nav a {
    color: var(--re-gray);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s;
    position: relative;
  }

  .nav a::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--re-blood);
    transition: width 0.3s;
  }

  .nav a:hover {
    color: var(--re-white);
  }

  .nav a:hover::after {
    width: 100%;
  }

  .progress-bar {
    position: fixed;
    top: 73px;
    left: 0;
    width: 100%;
    height: 3px;
    background: rgba(139, 0, 0, 0.2);
    z-index: 999;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--re-blood), var(--re-crimson));
    width: 0%;
    transition: width 0.3s;
    box-shadow: 0 0 10px var(--re-blood);
  }

  main {
    padding-top: 100px;
    max-width: 1400px;
    margin: 0 auto;
    padding-left: 2rem;
    padding-right: 2rem;
  }

  .section-hero {
    text-align: center;
    padding: 4rem 0;
    position: relative;
  }

  .section-badge {
    display: inline-block;
    padding: 0.6rem 1.5rem;
    background: rgba(139, 0, 0, 0.2);
    border: 1px solid var(--re-blood);
    border-radius: 30px;
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--re-green);
    margin-bottom: 1.5rem;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 10px rgba(124, 252, 0, 0.3); }
    50% { box-shadow: 0 0 20px rgba(124, 252, 0, 0.6); }
  }

  .section-title {
    font-family: 'Cinzel', serif;
    font-size: 3.5rem;
    font-weight: 900;
    margin-bottom: 1rem;
    line-height: 1.1;
    letter-spacing: 3px;
    text-shadow: 
      0 0 20px rgba(139, 0, 0, 0.5),
      0 0 40px rgba(139, 0, 0, 0.3);
    animation: titleGlow 3s ease-in-out infinite;
  }

  @keyframes titleGlow {
    0%, 100% { text-shadow: 0 0 20px rgba(139, 0, 0, 0.5), 0 0 40px rgba(139, 0, 0, 0.3); }
    50% { text-shadow: 0 0 30px rgba(139, 0, 0, 0.8), 0 0 60px rgba(139, 0, 0, 0.5); }
  }

  .section-meta {
    display: flex;
    gap: 3rem;
    justify-content: center;
    color: var(--re-gray);
    font-size: 0.95rem;
    margin-top: 1.5rem;
  }

  .content-grid {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 3rem;
    margin-top: 4rem;
  }

  .sidebar {
    position: sticky;
    top: 120px;
    height: fit-content;
  }

  .toc {
    background: rgba(26, 26, 26, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 0, 0, 0.3);
    border-radius: 15px;
    padding: 2rem;
  }

  .toc h3 {
    font-family: 'Cinzel', serif;
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
    color: var(--re-blood);
    letter-spacing: 2px;
  }

  .toc ul {
    list-style: none;
  }

  .toc li {
    margin-bottom: 0.8rem;
  }

  .toc a {
    color: var(--re-gray);
    text-decoration: none;
    font-size: 0.95rem;
    transition: all 0.3s;
    display: block;
    padding: 0.5rem;
    border-radius: 5px;
    position: relative;
    padding-left: 1.5rem;
  }

  .toc a::before {
    content: '▸';
    position: absolute;
    left: 0.5rem;
    opacity: 0;
    transition: all 0.3s;
  }

  .toc a:hover {
    color: var(--re-white);
    background: rgba(139, 0, 0, 0.2);
    padding-left: 2rem;
  }

  .toc a:hover::before {
    opacity: 1;
  }

  .toc a.active {
    color: var(--re-blood);
    background: rgba(139, 0, 0, 0.2);
  }

  .section-nav {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(139, 0, 0, 0.3);
  }

  .section-nav h4 {
    font-size: 0.85rem;
    color: var(--re-gray);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 1rem;
  }

  .nav-link {
    display: block;
    color: var(--re-gray);
    text-decoration: none;
    padding: 0.5rem;
    border-radius: 5px;
    margin-bottom: 0.5rem;
    transition: all 0.3s;
  }

  .nav-link:hover {
    color: var(--re-gold);
    background: rgba(212, 175, 55, 0.1);
  }

  .main-content {
    background: rgba(26, 26, 26, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 0, 0, 0.2);
    border-radius: 15px;
    padding: 3rem;
  }

  .objectives-box {
    background: rgba(212, 175, 55, 0.1);
    border: 2px solid var(--re-gold);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;
  }

  .objectives-box::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.1), transparent);
    animation: rotate 20s linear infinite;
  }

  @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .objectives-box h3 {
    font-family: 'Cinzel', serif;
    color: var(--re-gold);
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
    position: relative;
    z-index: 2;
  }

  .objectives-box ul {
    list-style: none;
    position: relative;
    z-index: 2;
  }

  .objectives-box li {
    padding: 0.8rem 0;
    padding-left: 2rem;
    position: relative;
    color: var(--re-gray);
    transition: all 0.3s;
  }

  .objectives-box li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--re-gold);
    font-weight: 700;
    font-size: 1.2rem;
  }

  .objectives-box li:hover {
    color: var(--re-white);
    padding-left: 2.5rem;
  }

  .content-section {
    margin-bottom: 3rem;
    animation: fadeIn 0.8s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .content-section h2 {
    font-family: 'Cinzel', serif;
    font-size: 2.2rem;
    color: var(--re-blood);
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(139, 0, 0, 0.3);
    position: relative;
  }

  .content-section h2::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100px;
    height: 2px;
    background: var(--re-blood);
  }

  .content-section h3 {
    font-family: 'Cinzel', serif;
    font-size: 1.5rem;
    color: var(--re-white);
    margin: 2rem 0 1rem 0;
  }

  .content-section p {
    color: var(--re-gray);
    line-height: 1.8;
    margin-bottom: 1.5rem;
    font-size: 1.05rem;
  }

  .content-section ol {
    margin-left: 2rem;
    margin-bottom: 1.5rem;
  }

  .content-section li {
    color: var(--re-gray);
    margin-bottom: 1rem;
    line-height: 1.8;
  }

  .content-section strong {
    color: var(--re-gold);
  }

  .puzzle-box {
    background: rgba(212, 175, 55, 0.1);
    border: 2px solid var(--re-gold);
    border-radius: 15px;
    padding: 2rem;
    margin: 2rem 0;
    position: relative;
    overflow: hidden;
  }

  .puzzle-box::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 200%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.2), transparent);
    animation: puzzleShine 3s infinite;
  }

  @keyframes puzzleShine {
    0% { left: -100%; }
    100% { left: 100%; }
  }

  .puzzle-box h4 {
    font-family: 'Cinzel', serif;
    color: var(--re-gold);
    margin-bottom: 1rem;
    font-size: 1.3rem;
    position: relative;
    z-index: 2;
  }

  .puzzle-box p {
    position: relative;
    z-index: 2;
  }

  .code-display {
    background: var(--re-black);
    border: 2px solid var(--re-gold);
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
    font-family: 'Courier New', monospace;
    font-size: 1.3rem;
    color: var(--re-gold);
    font-weight: 700;
    margin: 1.5rem 0;
    position: relative;
    z-index: 2;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
  }

  .info-box {
    background: rgba(139, 0, 0, 0.1);
    border-left: 4px solid var(--re-blood);
    padding: 1.5rem;
    border-radius: 10px;
    margin: 2rem 0;
    position: relative;
    overflow: hidden;
  }

  .info-box::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, rgba(139, 0, 0, 0.1), transparent);
    animation: shimmer 3s infinite;
  }

  @keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
  }

  .info-box-title {
    font-weight: 700;
    color: var(--re-blood);
    margin-bottom: 0.8rem;
    font-size: 1.1rem;
    letter-spacing: 1px;
    position: relative;
    z-index: 2;
  }

  .info-box p {
    position: relative;
    z-index: 2;
  }

  .info-box.warning {
    border-left-color: var(--re-gold);
    background: rgba(212, 175, 55, 0.1);
  }

  .info-box.warning .info-box-title {
    color: var(--re-gold);
  }

  /* URGENT TIMER WARNING STYLING */
  .urgent-warning {
    background: linear-gradient(135deg, rgba(220, 20, 60, 0.95), rgba(139, 0, 0, 0.9));
    border: 3px solid var(--re-crimson);
    border-radius: 15px;
    margin: 3rem 0;
    padding: 0;
    position: relative;
    overflow: hidden;
    animation: urgentPulse 2s ease-in-out infinite;
    box-shadow: 
      0 0 30px rgba(220, 20, 60, 0.6),
      inset 0 0 30px rgba(220, 20, 60, 0.3);
  }

  @keyframes urgentPulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 
        0 0 30px rgba(220, 20, 60, 0.6),
        inset 0 0 30px rgba(220, 20, 60, 0.3);
    }
    50% { 
      transform: scale(1.02);
      box-shadow: 
        0 0 50px rgba(220, 20, 60, 0.8),
        inset 0 0 50px rgba(220, 20, 60, 0.5);
    }
  }

  .warning-header {
    background: rgba(0, 0, 0, 0.8);
    padding: 1.5rem 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .warning-icon {
    font-size: 3rem;
    animation: warningBlink 0.5s ease-in-out infinite;
    margin-bottom: 0.5rem;
  }

  @keyframes warningBlink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0.3; }
  }

  .warning-title {
    font-family: 'Cinzel', serif;
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--re-white);
    text-shadow: 
      0 0 10px rgba(220, 20, 60, 0.8),
      0 0 20px rgba(220, 20, 60, 0.6),
      0 0 30px rgba(220, 20, 60, 0.4);
    animation: textGlow 1.5s ease-in-out infinite alternate;
    margin-bottom: 0.5rem;
    letter-spacing: 3px;
  }

  @keyframes textGlow {
    0% { text-shadow: 0 0 10px rgba(220, 20, 60, 0.8), 0 0 20px rgba(220, 20, 60, 0.6); }
    100% { text-shadow: 0 0 20px rgba(220, 20, 60, 1), 0 0 40px rgba(220, 20, 60, 0.8); }
  }

  .warning-subtitle {
    font-size: 1rem;
    color: var(--re-gold);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    animation: subtitlePulse 2s ease-in-out infinite;
  }

  @keyframes subtitlePulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
  }

  .timer-container {
    background: rgba(0, 0, 0, 0.9);
    margin: 0;
    padding: 2rem;
    position: relative;
  }

  .timer-display {
    text-align: center;
    position: relative;
  }

  .timer-label {
    font-size: 0.9rem;
    color: var(--re-gray);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 0.5rem;
    animation: labelBlink 1s ease-in-out infinite;
  }

  @keyframes labelBlink {
    0%, 80% { opacity: 1; }
    90% { opacity: 0.5; }
    100% { opacity: 1; }
  }

  .timer-numbers {
    font-family: 'Cinzel', serif;
    font-size: 4rem;
    font-weight: 900;
    color: var(--re-crimson);
    text-shadow: 
      0 0 10px rgba(220, 20, 60, 0.8),
      0 0 20px rgba(220, 20, 60, 0.6),
      0 0 40px rgba(220, 20, 60, 0.4);
    animation: timerGlow 0.8s ease-in-out infinite;
    margin-bottom: 1rem;
  }

  @keyframes timerGlow {
    0%, 100% { 
      transform: scale(1);
      text-shadow: 0 0 10px rgba(220, 20, 60, 0.8), 0 0 20px rgba(220, 20, 60, 0.6);
    }
    50% { 
      transform: scale(1.05);
      text-shadow: 0 0 20px rgba(220, 20, 60, 1), 0 0 40px rgba(220, 20, 60, 0.8);
    }
  }

  .timer-bar {
    width: 100%;
    height: 10px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 5px;
    overflow: hidden;
    border: 1px solid rgba(220, 20, 60, 0.3);
  }

  .timer-progress {
    height: 100%;
    background: linear-gradient(90deg, var(--re-crimson), var(--re-blood));
    width: 100%;
    border-radius: 5px;
    animation: progressShrink 300s linear forwards;
    position: relative;
    overflow: hidden;
  }

  @keyframes progressShrink {
    from { width: 100%; }
    to { width: 0%; }
  }

  .timer-progress::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: progressShimmer 2s ease-in-out infinite;
  }

  @keyframes progressShimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .warning-content {
    padding: 2rem;
    background: rgba(0, 0, 0, 0.7);
  }

  .warning-content p {
    margin-bottom: 1rem;
    line-height: 1.6;
    position: relative;
    z-index: 2;
  }

  .warning-content strong {
    color: var(--re-gold);
    font-weight: 700;
  }

  .checklist-urgent {
    margin: 1.5rem 0;
    position: relative;
    z-index: 2;
  }

  .urgent-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.8rem 0;
    border-bottom: 1px solid rgba(220, 20, 60, 0.3);
    font-weight: 600;
    color: var(--re-white);
    animation: urgentItemPulse 3s ease-in-out infinite;
  }

  .urgent-item:last-child {
    border-bottom: none;
  }

  @keyframes urgentItemPulse {
    0%, 90% { opacity: 1; }
    95% { opacity: 0.7; }
    100% { opacity: 1; }
  }

  .urgent-checkbox {
    font-size: 1.2rem;
    color: var(--re-gold);
    font-weight: 900;
    animation: checkboxBlink 1.5s ease-in-out infinite;
  }

  @keyframes checkboxBlink {
    0%, 50% { opacity: 1; }
    51% { opacity: 0.3; }
    100% { opacity: 1; }
  }

  .timer-threat {
    background: rgba(139, 0, 0, 0.3);
    border: 2px solid var(--re-blood);
    border-radius: 10px;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .timer-threat p {
    color: var(--re-crimson);
    font-weight: 700;
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
  }

  .timer-threat ul {
    list-style: none;
    position: relative;
    z-index: 2;
  }

  .timer-threat li {
    padding: 0.5rem 0;
    color: var(--re-white);
    font-weight: 600;
    position: relative;
    padding-left: 1.5rem;
  }

  .timer-threat li::before {
    content: '❌';
    position: absolute;
    left: 0;
    animation: threatBlink 1s ease-in-out infinite;
  }

  @keyframes threatBlink {
    0%, 80% { opacity: 1; }
    90% { opacity: 0.3; }
    100% { opacity: 1; }
  }

  .warning-footer {
    background: rgba(0, 0, 0, 0.9);
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    position: relative;
    overflow: hidden;
  }

  .footer-text {
    color: var(--re-crimson);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    animation: footerPulse 1s ease-in-out infinite;
  }

  @keyframes footerPulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
  }

  .alarm-flash {
    width: 20px;
    height: 20px;
    background: var(--re-crimson);
    border-radius: 50%;
    animation: alarmFlash 0.5s ease-in-out infinite;
  }

  @keyframes alarmFlash {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.3; transform: scale(1.2); }
  }

  /* Background alarm effects */
  .urgent-warning::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(220, 20, 60, 0.1), transparent);
    animation: backgroundPulse 3s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes backgroundPulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.6; }
  }

  /* CRITICAL SEQUENCE STYLING */
  .critical-sequence {
    background: rgba(26, 26, 26, 0.8);
    border: 2px solid var(--re-gold);
    border-radius: 15px;
    margin: 2rem 0;
    padding: 0;
    position: relative;
    overflow: hidden;
    animation: sequenceGlow 2s ease-in-out infinite;
    box-shadow: 
      0 0 20px rgba(212, 175, 55, 0.4),
      inset 0 0 20px rgba(212, 175, 55, 0.1);
  }

  @keyframes sequenceGlow {
    0%, 100% { 
      box-shadow: 
        0 0 20px rgba(212, 175, 55, 0.4),
        inset 0 0 20px rgba(212, 175, 55, 0.1);
    }
    50% { 
      box-shadow: 
        0 0 30px rgba(212, 175, 55, 0.6),
        inset 0 0 30px rgba(212, 175, 55, 0.2);
    }
  }

  .sequence-header {
    background: rgba(0, 0, 0, 0.9);
    padding: 1.5rem 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .sequence-icon {
    font-size: 2.5rem;
    animation: sequenceIconPulse 1.5s ease-in-out infinite;
    margin-bottom: 0.5rem;
  }

  @keyframes sequenceIconPulse {
    0%, 100% { 
      transform: scale(1);
      filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.8));
    }
    50% { 
      transform: scale(1.1);
      filter: drop-shadow(0 0 20px rgba(212, 175, 55, 1));
    }
  }

  .sequence-title {
    font-family: 'Cinzel', serif;
    font-size: 1.8rem;
    font-weight: 900;
    color: var(--re-gold);
    text-shadow: 
      0 0 10px rgba(212, 175, 55, 0.8),
      0 0 20px rgba(212, 175, 55, 0.6);
    animation: sequenceTitleGlow 2s ease-in-out infinite alternate;
    margin-bottom: 0.5rem;
    letter-spacing: 2px;
  }

  @keyframes sequenceTitleGlow {
    0% { text-shadow: 0 0 10px rgba(212, 175, 55, 0.8), 0 0 20px rgba(212, 175, 55, 0.6); }
    100% { text-shadow: 0 0 15px rgba(212, 175, 55, 1), 0 0 30px rgba(212, 175, 55, 0.8); }
  }

  .sequence-subtitle {
    font-size: 0.9rem;
    color: var(--re-crimson);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    animation: subtitleBlink 1.5s ease-in-out infinite;
  }

  @keyframes subtitleBlink {
    0%, 80% { opacity: 1; }
    90% { opacity: 0.6; }
    100% { opacity: 1; }
  }

  .sequence-steps {
    padding: 2rem;
    background: rgba(0, 0, 0, 0.7);
  }

  .step-item {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1.5rem 0;
    border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    position: relative;
    transition: all 0.3s ease;
  }

  .step-item:last-child {
    border-bottom: none;
  }

  .step-item:hover {
    background: rgba(212, 175, 55, 0.1);
    border-radius: 10px;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  .step-number {
    background: var(--re-gold);
    color: var(--re-black);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Cinzel', serif;
    font-size: 1.5rem;
    font-weight: 900;
    flex-shrink: 0;
    box-shadow: 
      0 0 15px rgba(212, 175, 55, 0.6),
      inset 0 0 10px rgba(255, 255, 255, 0.2);
    animation: stepNumberGlow 2s ease-in-out infinite;
  }

  @keyframes stepNumberGlow {
    0%, 100% { 
      box-shadow: 
        0 0 15px rgba(212, 175, 55, 0.6),
        inset 0 0 10px rgba(255, 255, 255, 0.2);
    }
    50% { 
      box-shadow: 
        0 0 25px rgba(212, 175, 55, 0.8),
        inset 0 0 15px rgba(255, 255, 255, 0.3);
    }
  }

  .step-content {
    flex: 1;
  }

  .step-title {
    font-family: 'Cinzel', serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--re-white);
    margin-bottom: 0.5rem;
    text-shadow: 0 0 5px rgba(212, 175, 55, 0.5);
  }

  .step-description {
    color: var(--re-gray);
    font-size: 1rem;
    line-height: 1.5;
    font-weight: 500;
  }

  .sequence-warning {
    background: rgba(220, 20, 60, 0.2);
    border-top: 2px solid var(--re-crimson);
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    position: relative;
    overflow: hidden;
  }

  .warning-icon-small {
    font-size: 1.5rem;
    animation: warningSmallBlink 1s ease-in-out infinite;
  }

  @keyframes warningSmallBlink {
    0%, 50% { opacity: 1; }
    51% { opacity: 0.4; }
    100% { opacity: 1; }
  }

  .warning-text {
    color: var(--re-crimson);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.95rem;
    animation: warningTextPulse 1.5s ease-in-out infinite;
  }

  @keyframes warningTextPulse {
    0%, 100% { opacity: 0.9; }
    50% { opacity: 1; }
  }

  /* Background effect for sequence */
  .critical-sequence::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.05), transparent);
    animation: sequenceBackgroundPulse 4s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes sequenceBackgroundPulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.5; }
  }

  .page-nav {
    display: flex;
    justify-content: space-between;
    margin-top: 4rem;
    padding-top: 3rem;
    border-top: 2px solid rgba(139, 0, 0, 0.3);
  }

  .page-nav-btn {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    padding: 1.2rem 2.5rem;
    background: rgba(139, 0, 0, 0.2);
    border: 2px solid var(--re-blood);
    border-radius: 50px;
    color: var(--re-white);
    text-decoration: none;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.4s;
    position: relative;
    overflow: hidden;
  }

  .page-nav-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(139, 0, 0, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .page-nav-btn:hover::before {
    width: 300px;
    height: 300px;
  }

  .page-nav-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 40px rgba(139, 0, 0, 0.5);
  }

  @media (max-width: 968px) {
    .content-grid {
      grid-template-columns: 1fr;
    }

    .sidebar {
      position: static;
    }

    .section-title {
      font-size: 2.5rem;
    }

    .nav {
      gap: 1.5rem;
    }
  }

  .blood-drips {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .blood-drip {
    position: absolute;
    width: 2px;
    height: 0;
    background: linear-gradient(180deg, transparent, var(--re-blood));
    animation: drip 3s ease-in infinite;
  }

  @keyframes drip {
    0% { height: 0; opacity: 0; }
    10% { opacity: 1; }
    100% { height: 100vh; opacity: 0; }
  }

  .footer {
    background: rgba(13, 13, 13, 0.95);
    border-top: 1px solid rgba(139, 0, 0, 0.3);
    padding: 3rem 2rem;
    text-align: center;
    margin-top: 8rem;
  }

  .footer p {
    color: var(--re-gray);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }

  .footer-content {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
  }

  .footer-info {
    text-align: left;
  }

  .footer-buttons {
    display: flex;
    gap: 1rem;
  }

  .footer-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .discord-btn {
    background: rgba(88, 101, 242, 0.2);
    color: #5865f2;
    border: 1px solid rgba(88, 101, 242, 0.3);
  }

  .discord-btn:hover {
    background: #5865f2;
    color: var(--re-white);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(88, 101, 242, 0.4);
  }

  .website-btn {
    background: rgba(139, 0, 0, 0.2);
    color: var(--re-blood);
    border: 1px solid rgba(139, 0, 0, 0.3);
  }

  .website-btn:hover {
    background: var(--re-blood);
    color: var(--re-white);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(139, 0, 0, 0.4);
  }

  .footer-icon {
    font-size: 1.1rem;
  }

  .discord-logo {
    width: 20px;
    height: 20px;
    vertical-align: middle;
    margin-right: 0.5rem;
  }

  .website-logo {
    width: 20px;
    height: 20px;
    vertical-align: middle;
    margin-right: 0.5rem;
    filter: brightness(1.2);
  }

  @media (max-width: 768px) {
    .footer-content {
      flex-direction: column;
      gap: 1.5rem;
    }
    .footer-info {
      text-align: center;
    }
    .footer-buttons {
      justify-content: center;
    }
  }


  /* ==================================================
     MOBILE RESPONSIVE DESIGN
     ================================================== */
  
  /* Medium screens (tablets) */
  @media (max-width: 1024px) {
    .container { 
      max-width: 95%; 
      padding: 0 1.5rem;
    }
    
    .guide-content {
      padding: 0 1rem;
    }
    
    .guide-section {
      margin-bottom: 3rem;
    }
  }

  /* Small screens (mobile landscape) */
  @media (max-width: 768px) {
    .container { 
      max-width: 95%; 
      padding: 0 1rem;
    }
    
    body {
      background-attachment: scroll !important;
    }
    
    .header-content {
      padding: 1rem;
      flex-direction: column;
      gap: 1rem;
    }
    
    .logo {
      font-size: 1.4rem;
      letter-spacing: 2px;
    }
    
    .nav {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
      width: 100%;
      max-width: 400px;
    }
    
    .nav a {
      padding: 0.6rem 0.8rem;
      font-size: 0.8rem;
      text-align: center;
      border: 1px solid rgba(139, 0, 0, 0.3);
      border-radius: 8px;
      background: rgba(139, 0, 0, 0.1);
    }
    
    main {
      padding-top: 120px;
      padding-left: 0;
      padding-right: 0;
    }
    
    .content-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
      padding: 0 1rem;
    }
    
    .sidebar {
      position: static;
      order: 2;
      width: 100%;
      padding: 1rem;
    }
    
    .main-content {
      padding: 1rem;
      order: 1;
      width: 100%;
    }
    
    .section-title {
      font-size: 2rem !important;
      margin-bottom: 2rem;
      text-align: center;
    }
    
    .content-section {
      margin-bottom: 2.5rem;
    }
    
    .content-section h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .content-section h3 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
    }
    
    .content-section p {
      margin-bottom: 1rem;
      font-size: 0.9rem;
      line-height: 1.6;
    }
    
    .content-section ul, ol {
      margin: 1rem 0;
      padding-left: 1.5rem;
    }
    
    .content-section li {
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }
    
    /* Objectives box mobile fix */
    .objectives-box {
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .objectives-box h3 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
    }
    
    .objectives-box li {
      padding: 0.6rem 0;
      padding-left: 1.5rem;
      font-size: 0.9rem;
    }
    
    .objectives-box li::before {
      content: '✓';
      position: absolute;
      left: 0;
      color: var(--re-gold);
      font-weight: 700;
      font-size: 1rem;
    }
    
    /* Info boxes mobile */
    .info-box {
      padding: 1rem;
      margin: 1.5rem 0;
    }
    
    .info-box-title {
      font-size: 1rem;
      margin-bottom: 0.6rem;
    }
    
    /* Page navigation mobile */
    .page-nav {
      flex-direction: column;
      gap: 1rem;
      margin-top: 3rem;
    }
    
    .page-nav-btn {
      padding: 1rem 1.5rem;
      font-size: 0.9rem;
      text-align: center;
    }
    
    /* Tablets */
    .guide-table {
      width: 100%;
      overflow-x: auto;
      display: block;
      white-space: nowrap;
      margin: 1.5rem 0;
    }
    
    .guide-table table {
      min-width: 500px;
      width: 100%;
    }
    
    /* Code blocks */
    .code-block {
      font-size: 0.8rem;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }
    
    /* Footer adjustments */
    .footer-content {
      flex-direction: column;
      gap: 1.5rem;
      text-align: center;
      padding: 2rem 1rem;
    }
    
    .footer-buttons {
      flex-direction: column;
      gap: 0.8rem;
      align-items: center;
    }

    /* Music control for mobile */
    .music-control-panel {
      width: 90vw !important;
      max-width: 300px !important;
      bottom: 80px !important;
      right: 5vw !important;
    }
    
    #musicControlButton {
      bottom: 15px !important;
      right: 15px !important;
      padding: 10px 15px !important;
      font-size: 12px !important;
    }
  }

  /* Very small screens (mobile portrait) */
  @media (max-width: 480px) {
    .container {
      padding: 0 0.8rem;
      max-width: 100%;
    }
    
    .header-content {
      padding: 0.8rem 0.5rem;
    }
    
    .logo {
      font-size: 1.2rem;
      letter-spacing: 1px;
    }
    
    .nav {
      grid-template-columns: 1fr;
      gap: 0.3rem;
    }
    
    .nav a {
      padding: 0.5rem 0.6rem;
      font-size: 0.75rem;
    }
    
    main {
      padding-top: 140px;
      padding-left: 0;
      padding-right: 0;
    }
    
    .content-grid {
      gap: 1rem;
      padding: 0 0.5rem;
    }
    
    .main-content {
      padding: 0.5rem;
    }
    
    .sidebar {
      padding: 0.5rem;
    }
    
    .section-title {
      font-size: 1.5rem !important;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    
    .content-section {
      margin-bottom: 2rem;
    }
    
    .content-section h2 {
      font-size: 1.3rem;
      margin-bottom: 0.8rem;
    }
    
    .content-section h3 {
      font-size: 1.2rem;
      margin-bottom: 0.8rem;
    }
    
    .content-section p {
      margin-bottom: 0.8rem;
      font-size: 0.85rem;
      line-height: 1.5;
    }
    
    .content-section ul, ol {
      margin: 0.8rem 0;
      padding-left: 1.25rem;
    }
    
    .content-section li {
      margin-bottom: 0.4rem;
      font-size: 0.85rem;
    }
    
    /* Objectives box mobile portrait */
    .objectives-box {
      padding: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .objectives-box h3 {
      font-size: 1.1rem;
      margin-bottom: 0.8rem;
    }
    
    .objectives-box li {
      padding: 0.5rem 0;
      padding-left: 1.2rem;
      font-size: 0.85rem;
    }
    
    .objectives-box li::before {
      font-size: 0.9rem;
    }
    
    /* Info boxes mobile portrait */
    .info-box {
      padding: 0.8rem;
      margin: 1rem 0;
    }
    
    .info-box-title {
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }
    
    /* Page navigation mobile portrait */
    .page-nav-btn {
      padding: 0.8rem 1rem;
      font-size: 0.8rem;
    }
    
    /* Large buttons for touch */
    .btn, .step-number {
      min-height: 44px;
      min-width: 44px;
      padding: 0.8rem 1rem;
      font-size: 0.85rem;
    }
    
    /* Tables - horizontal scroll */
    .guide-table {
      font-size: 0.8rem;
      margin: 1rem 0;
    }
    
    .guide-table th,
    .guide-table td {
      padding: 0.5rem 0.3rem;
      white-space: nowrap;
    }
    
    /* Code blocks */
    .code-block {
      font-size: 0.75rem;
      padding: 0.8rem;
      margin: 0.8rem 0;
    }
    
    /* Images */
    img {
      max-width: 100%;
      height: auto;
    }
    
    /* Footer */
    .footer-content {
      padding: 1.5rem 0.5rem;
    }
    
    .footer-btn {
      padding: 0.8rem 1.2rem;
      font-size: 0.8rem;
    }
    
    /* Warning boxes */
    .warning-box,
    .critical-sequence,
    .urgent-warning {
      padding: 1rem;
      margin: 1rem 0;
      font-size: 0.85rem;
    }
    
    .warning-box h4,
    .critical-sequence h3,
    .urgent-warning h3 {
      font-size: 1.1rem;
      margin-bottom: 0.8rem;
    }
  }

  /* Ultra small screens */
  @media (max-width: 320px) {
    .nav a { 
      padding: 0.3rem 0.4rem; 
      font-size: 0.7rem; 
    }
    
    .guide-content {
      padding: 1rem 0.3rem;
      font-size: 0.8rem;
    }
    
    .section-title {
      font-size: 1.3rem !important;
    }
  }

  /* Touch device improvements */
  @media (hover: none) and (pointer: coarse) {
    .btn:hover,
    .nav a:hover,
    .quick-link-item:hover {
      transform: none !important;
    }
    
    .btn:active {
      background: rgba(139, 0, 0, 0.8) !important;
      transform: scale(0.98);
    }
  }

  /* Landscape orientation on phones */
  @media (max-height: 600px) and (orientation: landscape) {
    .guide-content {
      padding: 1rem 0.5rem;
    }
    
    .section-title {
      font-size: 1.5rem !important;
      margin-bottom: 1rem;
    }
    
    .guide-section {
      margin-bottom: 1.5rem;
    }
    
    .guide-section h3 {
      font-size: 1.1rem;
    }
  }

  /* Print styles */
  @media print {
    .header, .footer, #musicControlButton, .music-control-panel {
      display: none !important;
    }
    
    .guide-content {
      padding: 0;
      font-size: 12pt;
    }
    
    body {
      background: white !important;
      color: black !important;
    }
  }\n</style>
</head>
<body>
  <div class="fog-container">
    <div class="fog"></div>
  </div>
  
  <div class="blood-drips" id="bloodDrips"></div>

  <div class="progress-bar">
    <div class="progress-fill" id="progressBar"></div>
  </div>

  <header class="header" id="header">
    <div class="header-content">
      <a href="index.html" class="logo">RESIDENT <span>EVIL</span></a>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="remake_guide_page_1.html">Guide Setup</a>
        <a href="remake_guide_page_2.html">Walkthrough</a>
        <a href="resources-page.html">Resources</a>
        <a href="quick-reference-guide.html">Quick Reference</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="section-hero">
      <div class="section-badge">SECTION 4 OF 16</div>
      <h1 class="section-title">Death Masks 2-4 & Yawn 1</h1>
      <div class="section-meta">
        <span>•</span>
        <span>PUZZLES</span>
        <span>•</span>
        <span>BOSS FIGHT</span>
      </div>
    </div>

    <div class="content-grid">
      <aside class="sidebar">
        <div class="toc">
          <h3>Contents</h3>
          <ul>
            <li><a href="#objectives" class="active">Objectives</a></li>
            <li><a href="#music-room">Music Room</a></li>
            <li><a href="#piano">Piano Puzzle</a></li>
            <li><a href="#clock">Clock Puzzle</a></li>
            <li><a href="#yawn">Yawn 1 Boss</a></li>
            <li><a href="#death-mask-2">Death Mask 2</a></li>
          </ul>

          <div class="section-nav">
            <h4>Navigate</h4>
            <a href="remake_guide_page_3.html" class="nav-link">← Section 3: Armour Key</a>
            <a href="remake_guide_page_5.html" class="nav-link">Section 5: Gallery →</a>
          </div>
        </div>
      </aside>

      <div class="main-content">
        <div class="objectives-box" id="objectives">
          <h3>Section Objectives</h3>
          <ul>
            <li>Complete Music Room puzzle (two Musical Scores)</li>
            <li>Solve Piano puzzle for Gold Emblem</li>
            <li>Execute Clock puzzle and obtain Shield Key</li>
            <li>Defeat Yawn 1 boss encounter</li>
            <li>Collect Death Mask 2</li>
            <li>Save Richard before 5-minute timer expires</li>
          </ul>
        </div>

        <div class="urgent-warning" id="richardTimerWarning">
          <div class="warning-header">
            <div class="warning-icon">⚠️</div>
            <div class="warning-title">CRITICAL TIMER ACTIVE</div>
            <div class="warning-subtitle">RICHARD'S LIFE DEPENDS ON YOUR SPEED</div>
          </div>
          
          <div class="timer-container">
            <div class="timer-display" id="richardTimer">
              <div class="timer-label">TIME REMAINING</div>
              <div class="timer-numbers">
                <span id="minutes">04</span>:<span id="seconds">59</span>
              </div>
              <div class="timer-bar">
                <div class="timer-progress" id="timerProgress"></div>
              </div>
            </div>
          </div>
          
          <div class="warning-content">
            <div style="text-align: center; margin-bottom: 1rem;">
              <button onclick="startRichardTimerNow()" style="background: rgba(220, 20, 60, 0.8); color: white; border: 2px solid var(--re-crimson); padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px;" onmouseover="this.style.background='var(--re-crimson)'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(220, 20, 60, 0.8)'; this.style.transform='scale(1)'">
                🔴 START TIMER NOW 🔴
              </button>
              <button onclick="resetRichardTimer()" style="background: rgba(0, 0, 0, 0.8); color: var(--re-gray); border: 2px solid var(--re-gray); padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; margin-left: 1rem;" onmouseover="this.style.background='var(--re-gray)'; this.style.color='white'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)'; this.style.color='var(--re-gray)'; this.style.transform='scale(1)'">
                Reset Timer
              </button>
            </div>
            <p><strong>⚠️ CRITICAL WARNING ⚠️</strong></p>
            <p>Richard's 5-minute real-time timer started in <strong>Section 3</strong> and is running continuously. You must complete this entire section and reach the Yawn cutscene before time expires.</p>
            
            <div class="checklist-urgent">
              <div class="urgent-item">
                <span class="urgent-checkbox">□</span>
                Complete Music Room puzzle
              </div>
              <div class="urgent-item">
                <span class="urgent-checkbox">□</span>
                Solve Piano puzzle for Gold Emblem
              </div>
              <div class="urgent-item">
                <span class="urgent-checkbox">□</span>
                Execute Clock puzzle and obtain Shield Key
              </div>
              <div class="urgent-item">
                <span class="urgent-checkbox">□</span>
                Reach Yawn cutscene safely
              </div>
            </div>
          </div>
          <div class="warning-footer">
            <div class="alarm-flash"></div>
            <span class="footer-text">SPEED IS ESSENTIAL • EVERY SECOND COUNTS</span>
            <div class="alarm-flash"></div>
          </div>
        </div>

        <div class="content-section" id="music-room">
          <h2>Music Room Sequence</h2>
          
          <p>The Music Room contains two Musical Scores needed for the piano puzzle. Enemy management here is critical for time optimisation.</p>

          <h3>First Score Collection</h3>
          
          <ol>
            <li>Light the candle in the first room.</li>
            <li>Push the shelf to reveal the path forward.</li>
            <li>Avoid the zombie behind the shelf.</li>
            <li>Grab <strong>Musical Score 1</strong>.</li>
          </ol>

          <h3>Second Score Collection</h3>
          
          <ol start="5">
            <li>Move to the piano room.</li>
            <li>Push the second shelf to access <strong>Musical Score 2</strong>.</li>
          </ol>
        </div>

        <div class="content-section" id="piano">
          <h2>Piano Puzzle</h2>
          
          <p>This puzzle requires combining the two Musical Scores and using them on the piano to reveal the Gold Emblem.</p>

          <h3>Puzzle Solution</h3>
          
          <ol>
            <li>Open your inventory and combine Musical Score 1 with Musical Score 2.</li>
            <li>Use the combined scores on the piano.</li>
            <li>The wall will open to reveal the <strong>Gold Emblem</strong>.</li>
            <li>Grab the Gold Emblem immediately.</li>
          </ol>

          <div class="info-box">
            <div class="info-box-title">MENU optimisation</div>
            <p>After grabbing the Gold Emblem, mash the menu button and immediately mash confirm to use the old emblem (the one from the dining room fireplace). This quick menu work saves approximately 2-3 seconds.</p>
          </div>

          <h3>Emblem Swap</h3>
          
          <ol start="5">
            <li>Navigate back to the dining room.</li>
            <li>Place the Gold Emblem above the fireplace, replacing the old one.</li>
            <li>This opens the path to the clock room.</li>
          </ol>
        </div>

        <div class="content-section" id="clock">
          <h2>Clock Puzzle Solution</h2>
          
          <p>The clock puzzle is one of the most complex input sequences in the early game. Precise button inputs are required.</p>

          <div class="puzzle-box">
            <h4>Clock Puzzle Input Sequence</h4>
            <p>Execute these inputs exactly as written:</p>
            <div class="code-display">
              Confirm, → Confirm, Confirm<br>
              Confirm, → Confirm, Confirm<br>
              Cancel, Confirm
            </div>
            <p style="margin-top: 1rem; margin-bottom: 0;">This sequence sets the clock hands to the correct positions and opens the compartment containing the Shield Key.</p>
          </div>

          <h3>Shield Key Collection</h3>
          
          <ol>
            <li>After the clock puzzle completes, the compartment opens.</li>
            <li>Grab the <strong>Shield Key</strong> from inside.</li>
            <li>Proceed immediately to Yawn's room.</li>
          </ol>

          <div class="info-box warning">
            <div class="info-box-title">TIME CHECK</div>
            <p>At this point, check your timer. You should have at least 1-2 minutes remaining on Richard's timer. If you're cutting it close, skip any safety strategies and proceed directly to Yawn.</p>
          </div>
        </div>

         <div class="critical-sequence">
           <div class="sequence-header">
             <div class="sequence-icon">⚡</div>
             <h3 class="sequence-title">SAVE RICHARD - CRITICAL SEQUENCE</h3>
             <div class="sequence-subtitle">Execute these steps IMMEDIATELY</div>
           </div>
           
           <div class="sequence-steps">
             <div class="step-item">
               <div class="step-number">1</div>
               <div class="step-content">
                 <div class="step-title">Proceed to East Wing</div>
                 <div class="step-description">Move immediately to the East Wing without delay</div>
               </div>
             </div>
             
             <div class="step-item">
               <div class="step-number">2</div>
               <div class="step-content">
                 <div class="step-title">Speak to Richard</div>
                 <div class="step-description">Interact with Richard and skip the cutscene quickly</div>
               </div>
             </div>
             
             <div class="step-item">
               <div class="step-number">3</div>
               <div class="step-content">
                 <div class="step-title">Reach Yawn's Room</div>
                 <div class="step-description">Proceed immediately to Yawn's room to complete the save</div>
               </div>
             </div>
           </div>
           
           <div class="sequence-warning">
             <div class="warning-icon-small">⚠️</div>
             <span class="warning-text">This sequence must be completed before the timer expires!</span>
           </div>
         </div>

        <div class="content-section" id="yawn">
          <h2>Yawn 1 Boss Fight</h2>
          
          <p>Yawn is your first major boss encounter and introduces a lethal mechanic: poison. This fight requires caution and precise movement.</p>

          <div class="info-box">
            <div class="info-box-title">BEFORE ENTERING</div>
            <p>There is some healing available on the lead-up to the Yawn encounter. Once you trigger the cutscene, you won't be able to go back until Yawn is defeated. Make sure your health is at least in Fine (green) status before proceeding.</p>
          </div>

          <h3>Critical Strategy</h3>
          
          <ol>
            <li>Move toward the centre of the room to activate the cutscene.</li>
            <li>Hold down-right on the control stick whilst mashing to skip the second cutscene.</li>
            <li>Grab <strong>Death Mask 2</strong> immediately.</li>
            <li>Turn and exit along the outside edge of the room to avoid Yawn.</li>
          </ol>

          <div class="info-box">
            <div class="info-box-title">POISON IS RUN-ENDING</div>
            <p>If Yawn poisons you during this encounter and you don't have the Serum, your run is over. Poison will slowly drain your health until you die. This is why collecting the Serum in Section 3 was mandatory. If you get poisoned, use the Serum immediately.</p>
          </div>

          <h3 id="death-mask-2">Death Mask 2 Acquisition</h3>
          
          <p>The goal of the Yawn 1 fight is NOT to kill Yawn - it's to grab Death Mask 2 and escape without taking damage. Fighting Yawn wastes time and ammunition.</p>

          <p>After escaping from Yawn with Death Mask 2, verify your inventory:</p>
          
          <ul style="margin-left: 2rem; color: var(--re-gray);">
            <li>Death Mask 1 (from water tank)</li>
            <li>Death Mask 2 (from Yawn's room)</li>
            <li>Grenade Launcher</li>
            <li>Lighter</li>
          </ul>

          <div class="info-box">
            <div class="info-box-title">WHAT'S NEXT</div>
            <p>With Richard's timer now complete and two Death Masks collected, you're halfway through the Death Mask collection sequence. Section 5 covers the Armour Gallery statues, Gallery painting puzzle, and collecting Death Masks 3 and 4.</p>
          </div>
        </div>

        <div class="page-nav">
          <a href="remake_guide_page_3.html" class="page-nav-btn">
            <span>←</span>
            <span>Section 3: Armour Key</span>
          </a>
          <a href="remake_guide_page_5.html" class="page-nav-btn">
            <span>Section 5: Gallery</span>
            <span>→</span>
          </a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Blood drip animation
    const bloodDripsContainer = document.getElementById('bloodDrips');
    for (let i = 0; i < 5; i++) {
      const drip = document.createElement('div');
      drip.className = 'blood-drip';
      drip.style.left = Math.random() * 100 + '%';
      drip.style.animationDelay = Math.random() * 3 + 's';
      drip.style.animationDuration = (Math.random() * 2 + 2) + 's';
      bloodDripsContainer.appendChild(drip);
    }

    // RICHARD TIMER COUNTDOWN - URGENT WARNING SYSTEM
    let richardTimeLeft = 5 * 60; // 5 minutes in seconds
    let timerInterval = null;
    
    function startRichardTimer() {
      timerInterval = setInterval(() => {
        richardTimeLeft--;
        updateTimerDisplay();
        updateProgressBar();
        
        if (richardTimeLeft <= 0) {
          clearInterval(timerInterval);
          timerExpired();
        }
      }, 1000);
    }
    
    function updateTimerDisplay() {
      const minutes = Math.floor(richardTimeLeft / 60);
      const seconds = richardTimeLeft % 60;
      
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
      
      // Change colors based on time remaining
      const timerElement = document.getElementById('richardTimer');
      const timerNumbers = document.querySelector('.timer-numbers');
      
      if (richardTimeLeft <= 60) { // Less than 1 minute
        timerNumbers.style.color = '#FF0000'; // Bright red
        timerNumbers.style.animation = 'timerGlow 0.3s ease-in-out infinite'; // Faster glow
        timerElement.style.animation = 'urgentPulse 0.5s ease-in-out infinite'; // Faster pulse
      } else if (richardTimeLeft <= 120) { // Less than 2 minutes
        timerNumbers.style.color = '#FF4500'; // Orange-red
      }
    }
    
    function updateProgressBar() {
      const totalTime = 5 * 60; // 5 minutes
      const percentageRemaining = (richardTimeLeft / totalTime) * 100;
      
      document.getElementById('timerProgress').style.width = percentageRemaining + '%';
      
      // Change progress bar color based on time
      const progressBar = document.getElementById('timerProgress');
      if (richardTimeLeft <= 60) {
        progressBar.style.background = 'linear-gradient(90deg, #FF0000, #CC0000)'; // Bright red
      } else if (richardTimeLeft <= 120) {
        progressBar.style.background = 'linear-gradient(90deg, #FF4500, #DC143C)'; // Orange-red
      }
    }
    
    function timerExpired() {
      document.getElementById('minutes').textContent = '00';
      document.getElementById('seconds').textContent = '00';
      document.getElementById('timerProgress').style.width = '0%';
      
      // Add critical failure styling
      const warningElement = document.getElementById('richardTimerWarning');
      warningElement.style.background = 'linear-gradient(135deg, rgba(255, 0, 0, 0.95), rgba(204, 0, 0, 0.9))';
      warningElement.style.boxShadow = '0 0 50px rgba(255, 0, 0, 1), inset 0 0 50px rgba(255, 0, 0, 0.5)';
      
      // Add failure message
      const timerContainer = document.querySelector('.timer-container');
      const failureMsg = document.createElement('div');
      failureMsg.innerHTML = '<div style="margin-top: 1rem; padding: 1rem; background: rgba(255, 0, 0, 0.3); border: 2px solid #FF0000; border-radius: 10px; text-align: center; animation: urgentPulse 0.5s ease-in-out infinite;"><strong style="color: #FF0000; font-size: 1.2rem;">❌ TIMER EXPIRED ❌</strong><br><span style="color: white;">Richard has died. Reset required.</span></div>';
      timerContainer.appendChild(failureMsg);
      
      // Stop all animations and show critical state
      document.querySelector('.warning-title').textContent = 'TIMER EXPIRED - RICHARD DIED';
      document.querySelector('.warning-icon').textContent = '💀';
      
      console.log('Richard Timer Expired - Run Reset Required');
    }
    
    // Check if timer is already running (persistent across page reloads)
    const timerStorageKey = 'richardTimerStart';
    const timerRemainingKey = 'richardTimerRemaining';
    
    function initializeTimer() {
      const startTime = localStorage.getItem(timerStorageKey);
      const customTimeRemaining = localStorage.getItem(timerRemainingKey);
      
      if (startTime) {
        const elapsed = Math.floor((Date.now() - parseInt(startTime)) / 1000);
        richardTimeLeft = Math.max(0, 5 * 60 - elapsed);
      } else if (customTimeRemaining) {
        richardTimeLeft = parseInt(customTimeRemaining);
      }
      
      // If timer has started in section 3, start counting down
      if (startTime || customTimeRemaining) {
        localStorage.setItem(timerStorageKey, Date.now().toString());
        startRichardTimer();
        updateTimerDisplay();
        updateProgressBar();
      }
    }
    
    // Function to manually start timer (for testing or if coming from Section 3)
    function startRichardTimerNow() {
      localStorage.setItem(timerStorageKey, Date.now().toString());
      richardTimeLeft = 5 * 60;
      startRichardTimer();
      updateTimerDisplay();
      updateProgressBar();
    }
    
    // Function to reset timer
    function resetRichardTimer() {
      clearInterval(timerInterval);
      localStorage.removeItem(timerStorageKey);
      localStorage.removeItem(timerRemainingKey);
      richardTimeLeft = 5 * 60;
      document.getElementById('minutes').textContent = '05';
      document.getElementById('seconds').textContent = '00';
      document.getElementById('timerProgress').style.width = '100%';
      
      // Reset styling
      const warningElement = document.getElementById('richardTimerWarning');
      warningElement.style.background = 'linear-gradient(135deg, rgba(220, 20, 60, 0.95), rgba(139, 0, 0, 0.9))';
      warningElement.style.boxShadow = '0 0 30px rgba(220, 20, 60, 0.6), inset 0 0 30px rgba(220, 20, 60, 0.3)';
      
      document.querySelector('.warning-title').textContent = 'CRITICAL TIMER ACTIVE';
      document.querySelector('.warning-icon').textContent = '⚠️';
    }
    
    // Initialize timer on page load
    initializeTimer();
    
    // Add manual controls for testing and manual use
    window.startRichardTimerNow = startRichardTimerNow;
    window.resetRichardTimer = resetRichardTimer;

    window.addEventListener('scroll', () => {
      const winScroll = document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('progressBar').style.width = scrolled + '%';
    });

    window.addEventListener('scroll', () => {
      const header = document.getElementById('header');
      if (window.scrollY > 100) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          
          document.querySelectorAll('.toc a').forEach(link => link.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    const sections = document.querySelectorAll('.content-section');
    const tocLinks = document.querySelectorAll('.toc a');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (scrollY >= sectionTop - 150) {
          current = section.getAttribute('id');
        }
      });

      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });
  </script>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-info">
        <p>Original Guide by Deccyf</p>
        <p>© 2025 Wheel of Struggle Community Speedrun Guide • All Rights Reserved</p>
      </div>
      <div class="footer-buttons">
        <a href="https://discord.com/invite/8RVRE33WfN" class="footer-btn discord-btn" target="_blank">
          <img src="Logos/e5d0b9e74328b8ce389bd8dd7f4e56b0.png" alt="Discord" class="footer-icon discord-logo">
          Discord
        </a>
        <a href="https://wheelofstruggle.com" class="footer-btn website-btn" target="_blank">
          <img src="Logos/WoS_Discord_Colour_V2.png" alt="Wheel of Struggle" class="footer-icon website-logo">
          Website
        </a>
      </div>
    </div>
  </footer>
</body>
</html>
